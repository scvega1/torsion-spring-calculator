<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ïä§ÌîÑÎßÅ Ï¢ÖÌï© ÏÑ§Í≥Ñ Í≥ÑÏÇ∞Í∏∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .spring-type-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .spring-type-btn {
            padding: 15px 30px;
            border: 3px solid #dee2e6;
            border-radius: 25px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            font-weight: 600;
            color: #495057;
        }
        
        .spring-type-btn.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-color: #667eea;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .spring-type-btn:hover:not(.active) {
            border-color: #667eea;
            transform: translateY(-1px);
        }
        
        .input-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .input-group {
            background: linear-gradient(145deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .input-group:hover {
            transform: translateY(-5px);
        }
        
        .input-group h3 {
            color: #495057;
            margin-bottom: 20px;
            font-size: 1.3em;
            border-bottom: 2px solid #6c757d;
            padding-bottom: 10px;
        }
        
        .form-row {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 15px;
        }
        
        label {
            font-weight: 600;
            color: #495057;
            min-width: 120px;
            font-size: 0.9em;
        }
        
        input, select {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
            background: white;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .unit {
            font-size: 0.85em;
            color: #6c757d;
            font-weight: 500;
            min-width: 80px;
            text-align: right;
        }
        
        .calc-button {
            display: block;
            width: 200px;
            margin: 30px auto;
            padding: 15px 30px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }
        
        .calc-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 25px rgba(102, 126, 234, 0.4);
        }
        
        .results-section {
            background: linear-gradient(145deg, #e8f5e8, #d4edda);
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .results-section h3 {
            color: #155724;
            margin-bottom: 25px;
            font-size: 1.5em;
            text-align: center;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .result-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #28a745;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .result-label {
            font-weight: 600;
            color: #495057;
            margin-bottom: 8px;
        }
        
        .result-value {
            font-size: 1.3em;
            font-weight: 700;
            color: #28a745;
        }
        
        .feasibility-check {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .feasibility-check h4 {
            color: #495057;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .check-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .check-item.pass {
            background: #d4edda;
            border-left: 4px solid #28a745;
        }
        
        .check-item.warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }
        
        .check-item.fail {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
        }
        
        .check-icon {
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        .explanation-section {
            background: linear-gradient(145deg, #e3f2fd, #bbdefb);
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .explanation-section h3 {
            color: #1565c0;
            margin-bottom: 20px;
            font-size: 1.5em;
        }
        
        .explanation-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .explanation-item h4 {
            color: #1976d2;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .explanation-item p {
            color: #424242;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .formula {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            margin: 5px 0;
        }
        
        .material-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .material-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .material-table th {
            background: #495057;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        .material-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #dee2e6;
        }
        
        .material-table tr:hover {
            background: #f8f9fa;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .input-section {
                grid-template-columns: 1fr;
            }
            
            .spring-type-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .form-row {
                flex-direction: column;
                align-items: stretch;
            }
            
            label {
                min-width: auto;
                margin-bottom: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß Ïä§ÌîÑÎßÅ Ï¢ÖÌï© ÏÑ§Í≥Ñ Í≥ÑÏÇ∞Í∏∞</h1>
        
        <div class="spring-type-selector">
            <button class="spring-type-btn active" onclick="selectSpringType('tension')">
                üîó Ïù∏Ïû• Ïä§ÌîÑÎßÅ
            </button>
            <button class="spring-type-btn" onclick="selectSpringType('compression')">
                üîÑ ÏïïÏ∂ï Ïä§ÌîÑÎßÅ
            </button>
            <button class="spring-type-btn" onclick="selectSpringType('torsion')">
                üåÄ ÎπÑÌãÄÎ¶º Ïä§ÌîÑÎßÅ
            </button>
        </div>
        
        <div class="input-section">
            <div class="input-group">
                <h3>üìè Í∏∞Î≥∏ ÏπòÏàò</h3>
                <div class="form-row">
                    <label>ÏÑ†Í≤Ω (d):</label>
                    <input type="number" id="d" step="0.1" value="10">
                    <span class="unit">mm</span>
                </div>
                <div class="form-row">
                    <label>Ï§ëÏã¨Í≤Ω (D):</label>
                    <input type="number" id="D" step="0.1" value="50">
                    <span class="unit">mm</span>
                </div>
                <div class="form-row">
                    <label>Ïú†Ìö®Í∂åÏàò (N):</label>
                    <input type="number" id="N" step="0.1" value="5">
                    <span class="unit">Ìöå</span>
                </div>
                <div class="form-row">
                    <label>Ï¥ùÍ∂åÏàò (Nt):</label>
                    <input type="number" id="Nt" step="0.1" value="6">
                    <span class="unit">Ìöå</span>
                </div>
                <div class="form-row" id="free-length-row">
                    <label>ÏûêÏú†Í∏∏Ïù¥ (L0):</label>
                    <input type="number" id="L0" step="0.1" value="100">
                    <span class="unit">mm</span>
                </div>
            </div>
            
            <div class="input-group">
                <h3 id="load-condition-title">üîß ÌïòÏ§ë Ï°∞Í±¥</h3>
                <div class="form-row" id="deflection-row">
                    <label>Î≥ÄÏúÑ (Œ¥):</label>
                    <input type="number" id="deflection" step="0.1" value="20">
                    <span class="unit">mm</span>
                </div>
                <div class="form-row" id="angle-row" class="hidden">
                    <label>ÎπÑÌãÄÎ¶º Í∞ÅÎèÑ (Œ∏):</label>
                    <input type="number" id="theta" step="1" value="90">
                    <span class="unit">ÎèÑ</span>
                </div>
                <div class="form-row">
                    <label>ÌïòÏ§ë (P):</label>
                    <input type="number" id="P" step="0.1" value="">
                    <span class="unit" id="load-unit">N</span>
                </div>
                <div class="form-row" id="moment-row" class="hidden">
                    <label>Î™®Î©òÌä∏ (M):</label>
                    <input type="number" id="M" step="0.01" value="">
                    <span class="unit">N¬∑mm</span>
                </div>
            </div>
            
            <div class="input-group">
                <h3>üèóÔ∏è Ïû¨Î£å ÌäπÏÑ±</h3>
                <div class="form-row">
                    <label>Ïû¨Î£å ÏÑ†ÌÉù:</label>
                    <select id="material">
                        <option value="SWP">SWP (ÌîºÏïÑÎÖ∏ÏÑ†)</option>
                        <option value="SUS">SUS (Ïä§ÌÖåÏù∏Î¶¨Ïä§)</option>
                        <option value="BRASS">Ìô©Îèô</option>
                        <option value="BRONZE">Ïù∏Ï≤≠Îèô</option>
                        <option value="CUSTOM">ÏÇ¨Ïö©Ïûê Ï†ïÏùò</option>
                    </select>
                </div>
                <div class="form-row">
                    <label id="modulus-label">Ï†ÑÎã®ÌÉÑÏÑ±Í≥ÑÏàò (G):</label>
                    <input type="number" id="G" step="1000" value="80000">
                    <span class="unit">MPa</span>
                </div>
                <div class="form-row">
                    <label>ÌóàÏö©ÏùëÎ†• (œÑa):</label>
                    <input type="number" id="tau_allow" step="10" value="400">
                    <span class="unit">MPa</span>
                </div>
            </div>
        </div>
        
        <button class="calc-button" onclick="calculate()">‚ö° Í≥ÑÏÇ∞ Ïã§Ìñâ</button>
        
        <div class="results-section" id="results" style="display: none;">
            <h3>üìä Í≥ÑÏÇ∞ Í≤∞Í≥º</h3>
            <div class="results-grid" id="results-grid">
                <!-- Í≤∞Í≥ºÍ∞Ä Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
            </div>
            
            <div class="feasibility-check">
                <h4>üîç ÏÑ§Í≥Ñ ÌÉÄÎãπÏÑ± Í≤ÄÌÜ†</h4>
                <div id="feasibility-results">
                    <!-- ÌÉÄÎãπÏÑ± Í≤ÄÌÜ† Í≤∞Í≥ºÍ∞Ä Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                </div>
            </div>
        </div>
        
        <div class="explanation-section">
            <h3>üìö Ïö©Ïñ¥ Î∞è Í≥µÏãù ÏÑ§Î™Ö</h3>
            
            <div class="explanation-item">
                <h4>Ï†ÑÍ∞úÏû• (Development Length)</h4>
                <p>Ïä§ÌîÑÎßÅÏùÑ ÏßÅÏÑ†ÏúºÎ°ú ÌéºÏ≥§ÏùÑ ÎïåÏùò Ï†ÑÏ≤¥ Í∏∏Ïù¥ÏûÖÎãàÎã§. Ïû¨Î£å ÏÜåÏöîÎüâ Í≥ÑÏÇ∞Í≥º Ï†úÏ°∞ ÎπÑÏö© ÏÇ∞Ï†ïÏóê Ï§ëÏöîÌïú ÏßÄÌëúÏûÖÎãàÎã§.</p>
                <div class="formula">Ï†ÑÍ∞úÏû• = œÄ √ó Ï¥ùÍ∂åÏàò √ó Ï§ëÏã¨Í≤Ω</div>
                <div class="formula">‚Ñì = œÄ √ó Nt √ó D</div>
                <p><strong>ÌôúÏö©:</strong> Ïû¨Î£åÎπÑ Í≥ÑÏÇ∞, Ï†úÏ°∞ Í∞ÄÎä•ÏÑ± ÌåêÎã®, Ï§ëÎüâ Í≥ÑÏÇ∞</p>
            </div>
            
            <div class="explanation-item">
                <h4>ÏùëÎ†•ÏàòÏ†ïÍ≥ÑÏàò (Stress Correction Factor, Kt)</h4>
                <p>Ïä§ÌîÑÎßÅÏùò Í≥°Î•†Î°ú Ïù∏Ìï¥ Î∞úÏÉùÌïòÎäî ÏùëÎ†• ÏßëÏ§ëÏùÑ Î≥¥Ï†ïÌïòÎäî Í≥ÑÏàòÏûÖÎãàÎã§. Ïä§ÌîÑÎßÅ ÏßÄÏàò(C = D/d)Í∞Ä ÏûëÏùÑÏàòÎ°ù ÏùëÎ†• ÏßëÏ§ëÏù¥ Ïª§ÏßëÎãàÎã§.</p>
                <div class="formula">Kt = (4C - 1)/(4C - 4) + 0.615/C (ÎπÑÌãÄÎ¶º Ïä§ÌîÑÎßÅ)</div>
                <div class="formula">Ks = (4C - 1)/(4C - 4) + 0.615/C (ÏïïÏ∂ï/Ïù∏Ïû• Ïä§ÌîÑÎßÅ)</div>
                <p><strong>Í∂åÏû• Ïä§ÌîÑÎßÅ ÏßÄÏàò:</strong> C = 4~12 (ÏùºÎ∞òÏ†ÅÏúºÎ°ú 6~10 ÏÇ¨Ïö©)</p>
                <p><strong>Ï£ºÏùòÏÇ¨Ìï≠:</strong> C < 4Ïùº ÎïåÎäî Ï†úÏ°∞Í∞Ä Ïñ¥Î†§Ïö∞Î©∞, C > 12Ïùº ÎïåÎäî Ï¢åÍµ¥ ÏúÑÌóòÏù¥ Ï¶ùÍ∞ÄÌï©ÎãàÎã§.</p>
            </div>
            
            <div class="explanation-item">
                <h4>ÏïàÏ†ÑÍ≥ÑÏàò (Safety Factor)</h4>
                <p>ÏÑ§Í≥Ñ ÏïàÏ†ÑÏÑ±ÏùÑ ÎÇòÌÉÄÎÇ¥Îäî ÏßÄÌëúÎ°ú, ÌóàÏö©ÏùëÎ†•Í≥º Ïã§Ï†ú ÏùëÎ†•Ïùò ÎπÑÏú®ÏûÖÎãàÎã§.</p>
                <div class="formula">ÏïàÏ†ÑÍ≥ÑÏàò = ÌóàÏö©ÏùëÎ†• / Ïã§Ï†úÏùëÎ†•</div>
                <p><strong>Í∂åÏû• ÏïàÏ†ÑÍ≥ÑÏàò:</strong></p>
                <p>‚Ä¢ Ï†ïÏ†Å ÌïòÏ§ë: 1.5 Ïù¥ÏÉÅ</p>
                <p>‚Ä¢ ÎèôÏ†Å ÌïòÏ§ë: 2.0 Ïù¥ÏÉÅ</p>
                <p>‚Ä¢ Ï§ëÏöî Î∂ÄÌíà: 3.0 Ïù¥ÏÉÅ</p>
            </div>
            
            <div class="explanation-item">
                <h4>Ïä§ÌîÑÎßÅ ÏßÄÏàò (Spring Index, C)</h4>
                <p>Ï§ëÏã¨Í≤ΩÍ≥º ÏÑ†Í≤ΩÏùò ÎπÑÏú®Î°ú, Ïä§ÌîÑÎßÅÏùò Ï†úÏ°∞ Í∞ÄÎä•ÏÑ±Í≥º ÏÑ±Îä•ÏùÑ Í≤∞Ï†ïÌïòÎäî Ï§ëÏöîÌïú ÏßÄÌëúÏûÖÎãàÎã§.</p>
                <div class="formula">C = D/d</div>
                <p><strong>Ï†úÏ°∞ Í∞ÄÎä•ÏÑ±:</strong></p>
                <p>‚Ä¢ C < 4: Ï†úÏ°∞ Îß§Ïö∞ Ïñ¥Î†§ÏõÄ</p>
                <p>‚Ä¢ C = 4~6: Ï†úÏ°∞ Ïñ¥Î†§ÏõÄ</p>
                <p>‚Ä¢ C = 6~10: Ï†úÏ°∞ Ïö©Ïù¥ (Í∂åÏû•)</p>
                <p>‚Ä¢ C = 10~12: Ï†úÏ°∞ Í∞ÄÎä•</p>
                <p>‚Ä¢ C > 12: Ï¢åÍµ¥ ÏúÑÌóò</p>
            </div>
        </div>
        
        <div class="material-table">
            <table>
                <thead>
                    <tr>
                        <th>Ïû¨Î£å</th>
                        <th>Ï†ÑÎã®ÌÉÑÏÑ±Í≥ÑÏàò G (MPa)</th>
                        <th>Ïù∏Ïû•ÌÉÑÏÑ±Í≥ÑÏàò E (MPa)</th>
                        <th>ÌóàÏö©ÏùëÎ†• (MPa)</th>
                        <th>ÌäπÏßï</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>SWP (ÌîºÏïÑÎÖ∏ÏÑ†)</td><td>80,000</td><td>200,000</td><td>400-800</td><td>Í≥†Í∞ïÎèÑ, ÎÇ¥ÌîºÎ°úÏÑ± Ïö∞Ïàò</td></tr>
                    <tr><td>SUS (Ïä§ÌÖåÏù∏Î¶¨Ïä§)</td><td>70,000</td><td>200,000</td><td>350-600</td><td>ÎÇ¥ÏãùÏÑ± Ïö∞Ïàò</td></tr>
                    <tr><td>Ìô©Îèô</td><td>40,000</td><td>100,000</td><td>200-400</td><td>ÎÇ¥ÏãùÏÑ±, Í∞ÄÍ≥µÏÑ± ÏñëÌò∏</td></tr>
                    <tr><td>Ïù∏Ï≤≠Îèô</td><td>45,000</td><td>110,000</td><td>250-500</td><td>ÎÇ¥ÏãùÏÑ±, Ï†ÑÍ∏∞Ï†ÑÎèÑÏÑ± Ïö∞Ïàò</td></tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <script>
        let currentSpringType = 'tension';
        
        function selectSpringType(type) {
            currentSpringType = type;
            
            // Î≤ÑÌäº ÌôúÏÑ±Ìôî ÏÉÅÌÉú Î≥ÄÍ≤Ω
            document.querySelectorAll('.spring-type-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // UI ÏóÖÎç∞Ïù¥Ìä∏
            updateUIForSpringType(type);
        }
        
        function updateUIForSpringType(type) {
            const deflectionRow = document.getElementById('deflection-row');
            const angleRow = document.getElementById('angle-row');
            const momentRow = document.getElementById('moment-row');
            const freeLengthRow = document.getElementById('free-length-row');
            const loadConditionTitle = document.getElementById('load-condition-title');
            const loadUnit = document.getElementById('load-unit');
            const modulusLabel = document.getElementById('modulus-label');
            
            // Î™®Îì† Ìñâ Ïà®Í∏∞Í∏∞
            deflectionRow.classList.remove('hidden');
            angleRow.classList.add('hidden');
            momentRow.classList.add('hidden');
            
            switch(type) {
                case 'tension':
                    loadConditionTitle.textContent = 'üîß Ïù∏Ïû• ÌïòÏ§ë Ï°∞Í±¥';
                    loadUnit.textContent = 'N';
                    modulusLabel.textContent = 'Ï†ÑÎã®ÌÉÑÏÑ±Í≥ÑÏàò (G):';
                    freeLengthRow.style.display = 'flex';
                    break;
                case 'compression':
                    loadConditionTitle.textContent = 'üîß ÏïïÏ∂ï ÌïòÏ§ë Ï°∞Í±¥';
                    loadUnit.textContent = 'N';
                    modulusLabel.textContent = 'Ï†ÑÎã®ÌÉÑÏÑ±Í≥ÑÏàò (G):';
                    freeLengthRow.style.display = 'flex';
                    break;
                case 'torsion':
                    loadConditionTitle.textContent = 'üîß ÎπÑÌãÄÎ¶º ÌïòÏ§ë Ï°∞Í±¥';
                    deflectionRow.classList.add('hidden');
                    angleRow.classList.remove('hidden');
                    momentRow.classList.remove('hidden');
                    loadUnit.textContent = 'N';
                    modulusLabel.textContent = 'Ï†ÑÎã®ÌÉÑÏÑ±Í≥ÑÏàò (G):';
                    freeLengthRow.style.display = 'none';
                    break;
            }
        }
        
        // Ïû¨Î£å ÏÑ†ÌÉù Ïãú ÏûêÎèôÏúºÎ°ú Í∞í ÏóÖÎç∞Ïù¥Ìä∏
        document.getElementById('material').addEventListener('change', function() {
            const material = this.value;
            const gInput = document.getElementById('G');
            const tauInput = document.getElementById('tau_allow');
            
            switch(material) {
                case 'SWP':
                    gInput.value = 80000;
                    tauInput.value = 600;
                    break;
                case 'SUS':
                    gInput.value = 70000;
                    tauInput.value = 500;
                    break;
                case 'BRASS':
                    gInput.value = 40000;
                    tauInput.value = 300;
                    break;
                case 'BRONZE':
                    gInput.value = 45000;
                    tauInput.value = 400;
                    break;
                case 'CUSTOM':
                    // ÏÇ¨Ïö©Ïûê Ï†ïÏùò - ÌòÑÏû¨ Í∞í Ïú†ÏßÄ
                    break;
            }
        });
        
        function calculate() {
            const d = parseFloat(document.getElementById('d').value);
            const D = parseFloat(document.getElementById('D').value);
            const N = parseFloat(document.getElementById('N').value);
            const Nt = parseFloat(document.getElementById('Nt').value);
            const G = parseFloat(document.getElementById('G').value);
            const tau_allow = parseFloat(document.getElementById('tau_allow').value);
            
            let results = {};
            let feasibilityChecks = [];
            
            // Í≥µÌÜµ Í≥ÑÏÇ∞
            const C = D / d; // Ïä§ÌîÑÎßÅ ÏßÄÏàò
            const development_length = Math.PI * Nt * D;
            
            if (currentSpringType === 'torsion') {
                const theta = parseFloat(document.getElementById('theta').value);
                const theta_rad = theta * Math.PI / 180;
                
                // ÎπÑÌãÄÎ¶º Ïä§ÌîÑÎßÅ Í≥ÑÏÇ∞
                const K = (G * Math.pow(d, 4)) / (8 * Nt * Math.pow(D, 3));
                const delta = theta_rad * D / 2;
                const P = K * delta;
                const Kt = (4 * C - 1) / (4 * C - 4) + 0.615 / C;
                const tau = Kt * (8 * D * P) / (Math.PI * Math.pow(d, 3));
                const moment = P * D / 2;
                
                results = {
                    'Ïä§ÌîÑÎßÅ ÏÉÅÏàò (K)': K.toFixed(3) + ' N/mm',
                    'ÌïòÏ§ë (P)': P.toFixed(3) + ' N',
                    'Î™®Î©òÌä∏ (M)': moment.toFixed(3) + ' N¬∑mm',
                    'ÏùëÎ†• (œÑ)': tau.toFixed(1) + ' MPa',
                    'Ï†ÑÍ∞úÏû• (‚Ñì)': development_length.toFixed(1) + ' mm',
                    'ÏùëÎ†•ÏàòÏ†ïÍ≥ÑÏàò (Kt)': Kt.toFixed(3),
                    'Ïä§ÌîÑÎßÅ ÏßÄÏàò (C)': C.toFixed(2),
                    'ÏïàÏ†ÑÍ≥ÑÏàò': (tau_allow / tau).toFixed(2)
                };
                
                // ÌÉÄÎãπÏÑ± Í≤ÄÌÜ†
                feasibilityChecks = checkTorsionFeasibility(C, tau, tau_allow, d, D, development_length);
                
            } else {
                // Ïù∏Ïû•/ÏïïÏ∂ï Ïä§ÌîÑÎßÅ Í≥ÑÏÇ∞
                const deflection = parseFloat(document.getElementById('deflection').value);
                const L0 = parseFloat(document.getElementById('L0').value);
                
                const K = (G * Math.pow(d, 4)) / (8 * N * Math.pow(D, 3));
                const P = K * deflection;
                const Ks = (4 * C - 1) / (4 * C - 4) + 0.615 / C;
                const tau = Ks * (8 * D * P) / (Math.PI * Math.pow(d, 3));
                const solidLength = Nt * d;
                const maxDeflection = L0 - solidLength;
                
                results = {
                    'Ïä§ÌîÑÎßÅ ÏÉÅÏàò (K)': K.toFixed(3) + ' N/mm',
                    'ÌïòÏ§ë (P)': P.toFixed(3) + ' N',
                    'ÏùëÎ†• (œÑ)': tau.toFixed(1) + ' MPa',
                    'Ï†ÑÍ∞úÏû• (‚Ñì)': development_length.toFixed(1) + ' mm',
                    'ÏùëÎ†•ÏàòÏ†ïÍ≥ÑÏàò (Ks)': Ks.toFixed(3),
                    'Ïä§ÌîÑÎßÅ ÏßÄÏàò (C)': C.toFixed(2),
                    'Î∞ÄÏ∞©Í∏∏Ïù¥': solidLength.toFixed(1) + ' mm',
                    'ÏµúÎåÄÎ≥ÄÏúÑ': maxDeflection.toFixed(1) + ' mm',
                    'ÏïàÏ†ÑÍ≥ÑÏàò': (tau_allow / tau).toFixed(2)
                };
                
                // ÌÉÄÎãπÏÑ± Í≤ÄÌÜ†
                feasibilityChecks = checkCompressionTensionFeasibility(C, tau, tau_allow, deflection, maxDeflection, L0, D, currentSpringType);
            }
            
            displayResults(results);
            displayFeasibilityCheck(feasibilityChecks);
            
            document.getElementById('results').style.display = 'block';
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }
        
        function displayResults(results) {
            const resultsGrid = document.getElementById('results-grid');
            resultsGrid.innerHTML = '';
            
            for (const [label, value] of Object.entries(results)) {
                const resultItem = document.createElement('div');
                resultItem.className = 'result-item';
                resultItem.innerHTML = `
                    <div class="result-label">${label}</div>
                    <div class="result-value">${value}</div>
                `;
                resultsGrid.appendChild(resultItem);
            }
        }
        
        function displayFeasibilityCheck(checks) {
            const feasibilityResults = document.getElementById('feasibility-results');
            feasibilityResults.innerHTML = '';
            
            checks.forEach(check => {
                const checkItem = document.createElement('div');
                checkItem.className = `check-item ${check.status}`;
                checkItem.innerHTML = `
                    <span class="check-icon">${check.icon}</span>
                    <span>${check.message}</span>
                `;
                feasibilityResults.appendChild(
